<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Election Poster - Wards</title>
  <link rel="stylesheet" href="base.css" />
  <style>
    .watermark {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-25deg);
      font-size: 180px;
      font-weight: 900;
      opacity: 0.06;
      color: #ffffff;
      pointer-events: none;
      user-select: none;
      white-space: nowrap;
      letter-spacing: 0.25em;
      z-index: 0;
    }
  </style>
</head>
<body>
  <div class="watermark">CENTRERIGHTIN</div>
  <div class="poster" id="poster-root"></div>

  <script>
    const data = __DATA__;

    const root = document.getElementById("poster-root");

    const header = document.createElement("div");
    header.className = "header";

    const title = document.createElement("div");
    title.className = "title";
    title.textContent = data.localbody || "Localbody Name";

    const subtitle = document.createElement("div");
    subtitle.className = "subtitle";
    const district = data.district ? `(${data.district})` : "";
    subtitle.textContent = district + (data.caption ? " 路 " + data.caption : "");

    header.appendChild(title);
    header.appendChild(subtitle);
    root.appendChild(header);

    const sectionTitle = document.createElement("div");
    sectionTitle.className = "section-title";
    sectionTitle.textContent = data.sectionTitle || "Ward Performance";
    root.appendChild(sectionTitle);

    // ROWS BEGIN HERE
    (data.rows || []).forEach((row) => {
      const rowDiv = document.createElement("div");
      rowDiv.className = "row";

      const tag = document.createElement("div");
      tag.className = "tag";
      tag.textContent = row.alliance || "Alliance";
      tag.style.background = row.color || "#4b5563";
      rowDiv.appendChild(tag);

      // FIRST / SECOND / THIRD values
      const value = document.createElement("div");
      value.className = "value";

      const first = row.first != null ? row.first : 0;
      const second = row.second != null ? row.second : 0;
      const third = row.third != null ? row.third : 0;

      value.textContent = `1st: ${first}  路  2nd: ${second}  路  3rd: ${third}`;
      rowDiv.appendChild(value);

      root.appendChild(rowDiv);
    });

    const footer = document.createElement("div");
    footer.className = "footer";

    footer.innerHTML = `
      <span>Generated by <strong>CentreRightIN</strong></span>
      &nbsp;路&nbsp;
      <a href="https://x.com/CentrerightIN" 
        style="color:#60a5fa;text-decoration:none;font-weight:600;"
        target="_blank">@CentrerightIN</a>
    `;

    root.appendChild(footer);

  </script>
</body>
</html>
