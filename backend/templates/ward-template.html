<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Election Poster - Wards</title>
  <link rel="stylesheet" href="base.css" />
</head>
<body>
  <div class="poster" id="poster-root"></div>

  <script>
    const data = __DATA__;

    const root = document.getElementById("poster-root");

    const header = document.createElement("div");
    header.className = "header";

    const title = document.createElement("div");
    title.className = "title";
    title.textContent = data.localbody || "Localbody Name";

    const subtitle = document.createElement("div");
    subtitle.className = "subtitle";
    const district = data.district ? `(${data.district})` : "";
    subtitle.textContent = district + (data.caption ? " · " + data.caption : "");

    header.appendChild(title);
    header.appendChild(subtitle);
    root.appendChild(header);

    const sectionTitle = document.createElement("div");
    sectionTitle.className = "section-title";
    sectionTitle.textContent = data.sectionTitle || "Ward Performance";
    root.appendChild(sectionTitle);

    (data.rows || []).forEach((row) => {
      const rowDiv = document.createElement("div");
      rowDiv.className = "row";

      const tag = document.createElement("div");
      tag.className = "tag";
      tag.textContent = row.alliance || "Alliance";
      if (row.color) {
        tag.style.background = row.color;
      } else {
        tag.style.background = "#4b5563";
      }
      rowDiv.appendChild(tag);

      const value = document.createElement("div");
      value.className = "value";
      const first = row.first != null ? row.first : 0;
      const second = row.second != null ? row.second : 0;
      const third = row.third != null ? row.third : 0;
      value.textContent = `1st: ${first}  ·  2nd: ${second}  ·  3rd: ${third}`;

      rowDiv.appendChild(value);
      root.appendChild(rowDiv);
    });

    const footer = document.createElement("div");
    footer.className = "footer";
    footer.textContent = data.footerText || "Generated with Election Poster Generator";
    root.appendChild(footer);
  </script>
</body>
</html>
